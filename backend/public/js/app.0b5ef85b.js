(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},5580:function(e,t,n){"use strict";var s=n("d76a"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"wrap"}},[n("transition",{attrs:{name:"router-transition",mode:"out-in"}},[n("router-view")],1)],1)},r=[],i=(n("e00d"),n("2877")),o={},c=Object(i["a"])(o,a,r,!1,null,null,null),l=c.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"account-page"}},[n("div",{attrs:{id:"account-page-box-wrap"}},[n("div",{attrs:{id:"account-page-box"}},[e._m(0),n("transition",{attrs:{name:"account-transition"}},[e.renderAccountPage?n("signin",{key:"signin"}):n("signup",{key:"signup"})],1)],1)])])},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"account-page-logo"}},[n("div")])}],m=n("5530"),p=n("2f62"),g=n("bc3a"),f=n.n(g),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-page-component signin"},[n("div",{staticClass:"account-alert signin-alert",style:e.style.alert},[n("span",[e._v(e._s(e.text.alert))])]),n("div",{staticClass:"account-input-box signin-input-box"},[e._l(e.element.signin,(function(t){return n("div",{key:t.id,class:"input-box-text "+t.cls},[n("span",{style:t.style.span},[e._v(e._s(t.text))]),"checkbox"===("id"===t.e?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[t.e],expression:"model[i.e]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.model[t.e])?e._i(e.model[t.e],null)>-1:e.model[t.e]},on:{focus:function(n){return e.onFocusInText(t.e)},blur:function(n){return e.onFocusOutText(t.e)},change:function(n){var s=e.model[t.e],a=n.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&e.$set(e.model,t.e,s.concat([i])):o>-1&&e.$set(e.model,t.e,s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.model,t.e,r)}}}):"radio"===("id"===t.e?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[t.e],expression:"model[i.e]"}],attrs:{type:"radio"},domProps:{checked:e._q(e.model[t.e],null)},on:{focus:function(n){return e.onFocusInText(t.e)},blur:function(n){return e.onFocusOutText(t.e)},change:function(n){return e.$set(e.model,t.e,null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[t.e],expression:"model[i.e]"}],attrs:{type:"id"===t.e?"text":"password"},domProps:{value:e.model[t.e]},on:{focus:function(n){return e.onFocusInText(t.e)},blur:function(n){return e.onFocusOutText(t.e)},input:function(n){n.target.composing||e.$set(e.model,t.e,n.target.value)}}})])})),n("div",{staticClass:"input-box-button signin-button",style:e.style.button.parent,on:{mouseenter:e.onMouseenter,mouseleave:e.onMouseleave}},[n("input",{attrs:{type:"button",id:"signin-button-for-label",disabled:e.disabled.button},on:{click:e.executeSignin}}),n("label",{style:e.style.button.child,attrs:{for:"signin-button-for-label"}},[n("div")])])],2),n("div",{staticClass:"account-next-page signin-next-page"},[n("span",{on:{click:e.changeToSignup}},[e._v("Sign up")]),n("span",{staticClass:"to-main",on:{click:e.moveToMain}},[e._v("As a Guest")])])])},b=[],y=(n("4160"),n("159b"),n("4328")),w=n.n(y),S={signin:{len:["id","pw"],cls:"signin-text"},signup:{len:["id","pw","cpw"],cls:"signup-text"}},x=S,B=(n("d81d"),{createInputText:function(e){return e.len.map((function(t,n){return{id:n,e:t,text:t[0].toUpperCase()+t.substring(1),cls:e.cls,style:{span:{top:"50%",transform:"translate(0, -50%)",color:"rgba(255, 146, 30, 0.5)"},div:{}}}}))},changeTextToSmall:function(e){e.top="0",e.transform="translate(0, -70%) scale(0.65)"},changeTextToBig:function(e){e.top="50%",e.transform="translate(0, -50%) scale(1)"},changeTextToTrans:function(e){e.color="rgba(255, 146, 30, 0.5)"},changeTextToColor:function(e){e.color="rgba(255, 146, 30, 1)"},enableButton:function(e,t){e.button.parent.opacity="1",t.button=!1},disableButton:function(e,t){e.button.parent.opacity="0.6",t.button=!0},clearAlert:function(e,t){e.alert.height="0px",t.alert=""},showAlert:function(e,t,n){e.alert.height="40px",t.alert=n},clearModel:function(e){for(var t in e)e[t]=""},resetTextField:function(e){var t=this;e.forEach((function(e){t.changeTextToBig(e.style.span),t.changeTextToTrans(e.style.span)}))}}),T=B,E={name:"signin",data:function(){return{element:{signin:T.createInputText(x.signin)},model:{id:"",pw:""},style:{alert:{height:"0px"},button:{parent:{opacity:"0.6"},child:{background:"rgba(255, 131, 0, 0)"}}},disabled:{button:!0},text:{alert:""}}},computed:{watchId:function(){return this.model.id},watchPw:function(){return this.model.pw}},watch:{watchId:function(){this.onTextFilled()},watchPw:function(){this.onTextFilled()}},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["changeToSignup"])),{},{moveToMain:function(){var e=this;f.a.get("/api/drum/main").then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},executeSignin:function(){var e=this,t=this.appendData(),n={url:"/api/drum/signin",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:w.a.stringify(t)};f()(n).then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},appendData:function(){var e={userId:this.model.id,userPw:this.model.pw};return e},resultByThen:function(e){!0===e.success?this.$router.push({name:"main"}):T.showAlert(this.style,this.text,e.msg)},createErrorByCatch:function(){T.showAlert(this.style,this.text,"Error: Please try Again later.")},onTextFilled:function(){T.clearAlert(this.style,this.text),0!==this.watchId.length&&0!==this.watchPw.length?T.enableButton(this.style,this.disabled):T.disableButton(this.style,this.disabled)},onMouseenter:function(){!1===this.disabled.button&&(this.style.button.child.background="rgba(255, 131, 0, 0.3)")},onMouseleave:function(){!1===this.disabled.button&&(this.style.button.child.background="rgba(255, 131, 0, 0)")},onFocusInText:function(e){var t=this;this.element.signin.forEach((function(n){e===n.e&&(0===t.model[n.e].length&&T.changeTextToSmall(n.style.span),T.changeTextToColor(n.style.span))}))},onFocusOutText:function(e){var t=this;this.element.signin.forEach((function(n){e===n.e&&(0===t.model[n.e].length&&T.changeTextToBig(n.style.span),T.changeTextToTrans(n.style.span))}))}})},k=E,_=Object(i["a"])(k,v,b,!1,null,null,null),C=_.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-page-component signup"},[n("div",{staticClass:"account-alert signup-alert",style:e.style.alert},[n("span",[e._v(e._s(e.text.alert))])]),n("div",{staticClass:"account-input-box signup-input-box"},[e._l(e.element.signup,(function(t){return n("div",{key:t.id,class:"input-box-text "+t.cls},[n("span",{style:t.style.span},[e._v(e._s(t.text))]),"checkbox"===("id"===t.e?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[t.e],expression:"model[i.e]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.model[t.e])?e._i(e.model[t.e],null)>-1:e.model[t.e]},on:{focus:function(n){return e.onFocusInText(t.e)},blur:function(n){return e.onFocusOutText(t.e)},change:function(n){var s=e.model[t.e],a=n.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&e.$set(e.model,t.e,s.concat([i])):o>-1&&e.$set(e.model,t.e,s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.model,t.e,r)}}}):"radio"===("id"===t.e?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[t.e],expression:"model[i.e]"}],attrs:{type:"radio"},domProps:{checked:e._q(e.model[t.e],null)},on:{focus:function(n){return e.onFocusInText(t.e)},blur:function(n){return e.onFocusOutText(t.e)},change:function(n){return e.$set(e.model,t.e,null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[t.e],expression:"model[i.e]"}],attrs:{type:"id"===t.e?"text":"password"},domProps:{value:e.model[t.e]},on:{focus:function(n){return e.onFocusInText(t.e)},blur:function(n){return e.onFocusOutText(t.e)},input:function(n){n.target.composing||e.$set(e.model,t.e,n.target.value)}}})])})),n("div",{staticClass:"input-box-button signup-button",style:e.style.button.parent,on:{mouseenter:e.onMouseenter,mouseleave:e.onMouseleave}},[n("input",{attrs:{type:"button",id:"signup-button-for-label",disabled:e.disabled.button},on:{click:e.executeSignup}}),n("label",{style:e.style.button.child,attrs:{for:"signup-button-for-label"}},[n("div")])])],2),n("div",{staticClass:"account-next-page signup-next-page"},[n("span",{on:{click:e.changeToSignin}},[e._v("Sign in")])])])},I=[],O=(n("96cf"),n("1da1")),j={data:function(){return{element:{signup:T.createInputText(x.signup)},model:{id:"",pw:"",cpw:""},style:{alert:{height:"0px"},button:{parent:{opacity:"0.6"},child:{background:"rgba(255, 131, 0, 0)"}}},disabled:{button:!0},text:{alert:""}}},computed:{watchId:function(){return this.model.id},watchPw:function(){return this.model.pw},watchCpw:function(){return this.model.cpw}},watch:{watchId:function(){this.onTextFilled()},watchPw:function(){this.onTextFilled()},watchCpw:function(){this.onTextFilled()}},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["changeToSignin"])),{},{executeSignup:function(){var e=this,t=this.appendData(),n={url:"/api/drum/signup",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:w.a.stringify(t)};f()(n).then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},appendData:function(){var e={userId:this.model.id,userPw:this.model.cpw};return e},resultByThen:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.success){n.next=7;break}return n.next=3,T.clearModel(t.model);case 3:T.resetTextField(t.element.signup),T.showAlert(t.style,t.text,e.msg),n.next=8;break;case 7:T.showAlert(t.style,t.text,e.msg);case 8:case"end":return n.stop()}}),n)})))()},createErrorByCatch:function(){T.showAlert(this.style,this.text,"Error: Please try Again later.")},onTextFilled:function(){T.clearAlert(this.style,this.text),0!==this.watchId.length&&0!==this.watchPw.length&&0!==this.watchCpw.length?this.watchPw===this.watchCpw?(T.enableButton(this.style,this.disabled),T.clearAlert(this.style,this.text)):(T.disableButton(this.style,this.disabled),T.showAlert(this.style,this.text,"Confirm password.")):T.disableButton(this.style,this.disabled)},onMouseenter:function(){!1===this.disabled.button&&(this.style.button.child.background="rgba(255, 131, 0, 0.3)")},onMouseleave:function(){!1===this.disabled.button&&(this.style.button.child.background="rgba(255, 131, 0, 0)")},onFocusInText:function(e){var t=this;this.element.signup.forEach((function(n){e===n.e&&(0===t.model[n.e].length&&T.changeTextToSmall(n.style.span),T.changeTextToColor(n.style.span))}))},onFocusOutText:function(e){var t=this;this.element.signup.forEach((function(n){e===n.e&&(0===t.model[n.e].length&&T.changeTextToBig(n.style.span),T.changeTextToTrans(n.style.span))}))}})},A=j,M=Object(i["a"])(A,P,I,!1,null,null,null),D=M.exports,W={name:"account",components:{signin:C,signup:D},computed:Object(m["a"])({},Object(p["c"])(["renderAccountPage"])),created:function(){this.redirectBySession()},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["setElementScore"])),{},{redirectBySession:function(){var e=this;f.a.get("/api/drum/").then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},resultByThen:function(e){e.success&&(this.setElementScore(e.data),this.$router.push({name:"main"}).catch((function(){})))},createErrorByCatch:function(){}})},$=W,F=(n("88b4"),Object(i["a"])($,d,h,!1,null,null,null)),z=F.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main-page"}},[n("div",{style:e.boxWrapStyle,attrs:{id:"main-page-box-wrap"}},[n("div",{attrs:{id:"main-page-box"}},[n("instrument"),n("transition",{attrs:{name:"main-menu-transition"}},[e.renderMainMenu?n("mainMenu"):e._e()],1),n("transition",{attrs:{name:"save-transition"}},[e.renderSave?n("mainSave"):e._e()],1),n("transition",{attrs:{name:"save-transition"}},[e.renderDelete?n("mainDelete"):e._e()],1)],1)])])},R=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page-component instrument",style:e.changeStyleByBeat.instrument},[n("div",{staticClass:"instrument-container panel-container"},[n("div",{staticClass:"instrument-panel-wrap panel-flex-wrap",style:e.changeStyleByBeat.panelWrap},e._l(e.getElementInst,(function(t){return n("div",{key:t.id,staticClass:"instrument-panel"},[n("div",{staticClass:"instrument-element-wrap panel-element-wrap"},[n("div",{staticClass:"icon-element icon-in-panel",style:t.style}),e._l(t.panel,(function(e){return n("div",{key:e.key,staticClass:"instrument-element panel-element",style:e.style.panel})}))],2)])})),0),n("div",{staticClass:"instrument-panel-wrap progress-flex-wrap",style:e.changeStyleByBeat.panelWrap},e._l(e.getElementInst,(function(t){return n("div",{key:t.id,staticClass:"instrument-panel"},[n("div",{staticClass:"instrument-element-wrap progress-element-wrap"},[n("div",{staticClass:"icon-element icon-in-progress"}),e._l(t.panel,(function(s){return n("div",{key:s.key,staticClass:"instrument-element progress-element",style:s.style.progress,on:{click:function(n){return e.clickSoundPanel(t.id,s.key)}}})}))],2)])})),0)]),n("div",{staticClass:"instrument-container button-container",style:e.changeStyleByBeat.buttonContainer},[n("div",{staticClass:"instrument-button-wrap",style:e.style.buttonWrap},[n("div",{staticClass:"instrument-button play-button",on:{click:e.toggleSoundInterval}},[n("div",{style:e.style.button.play})]),n("div",{staticClass:"instrument-button reset-button",on:{click:e.resetSoundPanel}},[n("div",{style:e.style.button.reset})]),n("div",{staticClass:"instrument-button random-button",on:{click:e.randSoundPanel}},[n("div",{style:e.style.button.random})]),n("div",{staticClass:"instrument-button bpm-button"},[n("div",[n("span",[e._v(e._s(e.getBpm)+" bpm")])]),n("div",[n("div",{on:{click:e.increaseBpm}}),n("div",{on:{click:e.decreaseBpm}})])]),n("div",{staticClass:"instrument-button side-menu-button",on:{click:e.toggleMainMenu}},[n("div",{style:e.style.button.menu})])])])])},L=[],V=(n("99af"),{createInstrument:function(e){for(var t=[],n=0;n<e.len;n++)t[n]={id:n,panel:this.createPanel(e,n),style:{background:"url('./assets/src/image/".concat(e.img).concat(n+1,".png') no-repeat center center / cover")}};return t},createPanel:function(e,t){for(var n=[],s=0;s<e.panel;s++)n[s]={key:s,strength:0,param:{inst:t,panel:s},src:"jazz",style:{panel:{},progress:{}}};return n},createProgress:function(e){for(var t=[],n=0;n<e.len;n++)t[n]={id:n,style:{background:"rgba(50, 60, 70, 0.75)"}};return t},createSelectButton:function(e){return e.list.map((function(e,t){return{id:t,name:e,text:e[0].toUpperCase()+e.substring(1,e.length)}}))}}),q=V,J={instrument:{len:12,panel:16,img:"drum_"},progress:{len:16},select:{inst:{list:["jazz","rock","hiphop","percussion"]}}},K=J,U={data:function(){return{element:{inst:q.createInstrument(K.instrument),progress:q.createProgress(K.progress)},model:{bpm:100},sound:{minToSec:6e4,interval:null,beat:4,progress:0,pad:0,chance:.9,hslStep:15,maxBpm:197,minBpm:53},util:{width:window.innerWidth,height:window.innerHeight},css:{button:{size:.07,margin:.01,wrap:.88}},style:{buttonWrap:{},button:{play:{background:"url('./assets/src/image/play.png') no-repeat center center / cover"},reset:{background:"url('./assets/src/image/reset.png') no-repeat center center / cover"},random:{background:"url('./assets/src/image/random.png') no-repeat center center / cover"},menu:{background:"url('./assets/src/image/menu.png') no-repeat center center / cover"}}}}},beforeDestroy:function(){this.destroyElements()},computed:Object(m["a"])(Object(m["a"])({},Object(p["c"])(["getSoundInterval","getElementInst","getStrength","getBpm","getBeat"])),{},{loopTime:function(){return this.sound.minToSec/this.getBpm/this.sound.beat},changeStyleByBeat:function(){return this.getBeat?this.util.width>1342?{instrument:{width:"var(--instrument-container-long-width)"},buttonContainer:{width:"var(--button-container-long-width)"},panelWrap:{width:"var(--panel-wrap-long-width)"}}:{instrument:{},buttonContainer:{},panelWrap:{}}:this.util.width>1342?{instrument:{width:"var(--instrument-container-short-width)"},buttonContainer:{width:"var(--button-container-short-width)"},panelWrap:{width:"var(--panel-wrap-short-width)"}}:{instrument:{},buttonContainer:{},panelWrap:{}}}}),watch:{getBpm:function(){this.getBpm>197?this.setBpm(this.sound.maxBpm):this.getBpm<53&&this.setBpm(this.sound.minBpm)},getSoundInterval:function(){this.getSoundInterval?this.playInterval():this.stopInterval()}},created:function(){this.init()},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["toggleSoundInterval","toggleMainMenu","initElementInst","changeStrength","changeColor","resetPanelParam","changeProgress","resetProgress","randStrength","increaseBpm","decreaseBpm","setBpm"])),{},{playInterval:function(){setTimeout(this.playSound,this.loopTime),this.changeButtonToStop()},stopInterval:function(){this.sound.progress;clearTimeout(this.sound.interval),this.resetProgressByAll(!0),this.resetSoundValue(),this.changeButtonToPlay()},changeButtonToPlay:function(){this.style.button.play.background="url('./assets/src/image/play.png') no-repeat center center / cover"},changeButtonToStop:function(){this.style.button.play.background="url('./assets/src/image/stop.png') no-repeat center center / cover"},playSound:function(){this.resetProgressByAll(!1),this.playProgress(),this.playSoundByStrength(),this.sound.interval=setTimeout(this.playSound,this.loopTime)},playSoundByStrength:function(){var e=this,t=[];this.getElementInst.forEach((function(n){0!==n.panel[e.sound.pad].strength&&t.push(n.panel[e.sound.pad])})),t.forEach((function(e){var t=new Audio;t.src="./assets/src/sound/"+e.src+"/"+e.src+" ("+(e.param.inst+1)+").WAV",t.volume=.4+.3*(e.strength-1),t.play()})),this.sound.pad++,this.sound.pad===this.getElementInst[0].panel.length&&(this.sound.pad=0)},playProgress:function(){var e=this.sound.progress;this.changeProgress({progress:e}),this.sound.progress++,this.sound.progress===this.getElementInst[0].panel.length&&(this.sound.progress=0)},resetProgressByAll:function(e){var t=this.sound.progress;this.resetProgress({all:e,progress:t})},resetSoundValue:function(){this.sound.pad=0,this.sound.progress=0},initCss:function(){this.initButtonWrap()},initButtonWrap:function(){this.resizeButtonWrap()},resizeButtonWrap:function(){if(this.util.width<=1024&&this.util.width<this.util.height){var e=this.util.width*this.css.button.wrap,t=this.util.height*this.css.button.size*6+this.util.height*this.css.button.margin*4;this.style.buttonWrap=e>t?{width:"100%"}:{width:"108vw"}}else this.style.buttonWrap={}},clickSoundPanel:function(e,t){this.changeStrength({inst:e,panel:t});var n=this.getStrength({inst:e,panel:t});this.changeColorSoundPanel(e,t,n)},changeColorSoundPanel:function(e,t,n){var s=this.sound.hslStep;this.changeColor({inst:e,panel:t,strength:n,hslStep:s})},onWindowResize:function(){this.util.width=window.innerWidth,this.util.height=window.innerHeight,this.resizeButtonWrap()},resetSoundPanel:function(){this.stopInterval(),this.resetPanelParam(),this.getSoundInterval&&this.toggleSoundInterval()},randSoundPanel:function(){this.resetSoundPanel(),this.randPanelStrength()},randPanelStrength:function(){var e=this.sound.chance,t=this.sound.hslStep;this.randStrength({chance:e,hslStep:t})},init:function(){this.initElementInst(),this.initCss(),window.addEventListener("resize",this.onWindowResize,!1)},destroyElements:function(){this.resetSoundPanel()}})},G=U,Q=Object(i["a"])(G,H,L,!1,null,null,null),X=Q.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page-component menu"},[n("div",{staticClass:"menu-overlay",on:{click:e.toggleMainMenu}}),n("div",{staticClass:"menu-container-wrap",style:e.toggleMenuWrapStyle},[n("div",{staticClass:"menu-container-box"},[n("div",{staticClass:"menu-hide",on:{click:e.toggleMainMenu}},[n("div")]),n("div",{staticClass:"menu-container set-menu-container"},[n("div",{staticClass:"set-menu-button select-inst-button"},[n("span",[e._v("Instrument: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.instrument,expression:"instrument"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.instrument=t.target.multiple?n:n[0]}}},e._l(e.element.inst,(function(t){return n("option",{key:t.id,domProps:{value:t.name}},[e._v(e._s(t.text)+" ")])})),0)]),n("div",{staticClass:"set-menu-button select-beat-button"},[n("span",[e._v("Beat: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.beat,expression:"beat"}],attrs:{type:"checkbox",id:"select-beat"},domProps:{checked:Array.isArray(e.beat)?e._i(e.beat,null)>-1:e.beat},on:{change:function(t){var n=e.beat,s=t.target,a=!!s.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);s.checked?i<0&&(e.beat=n.concat([r])):i>-1&&(e.beat=n.slice(0,i).concat(n.slice(i+1)))}else e.beat=a}}}),n("label",{attrs:{for:"select-beat"}},[n("div",{style:e.beatButtonStyle.style},[n("span",[e._v(e._s(e.beatButtonStyle.text))])])])]),n("div",{staticClass:"set-menu-button select-saved-button"},[n("span",[e._v("Score: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.score,expression:"score"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.score=t.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:"Select Score"}},[e._v("Select Score")]),e._l(e.getElementScore,(function(t){return n("option",{key:t._id,domProps:{value:t.name}},[e._v(e._s(t.name)+" ")])}))],2)])]),n("div",{staticClass:"menu-containter account-menu-container"},[n("div",{staticClass:"account-menu-button logout-button",on:{click:e.executeLogout}},[n("div")]),n("div",{staticClass:"account-menu-button save-button",on:{click:e.toggleSave}},[n("div")]),n("div",{staticClass:"account-menu-button delete-button",on:{click:e.toggleDelete}},[n("div")])])])])])},Z=[],ee=(n("7db0"),n("b0c0"),{data:function(){return{element:{inst:q.createSelectButton(K.select.inst)},util:{width:window.innerWidth,height:window.innerHeight},sound:{hslStep:15}}},beforeDestroy:function(){this.hideMenu()},created:function(){window.addEventListener("resize",this.onWindowResize,!1)},computed:Object(m["a"])(Object(m["a"])({},Object(p["c"])(["renderMainMenu","getInst","getBeat","getElementInst","getScore","getElementScore","getSoundInterval"])),{},{instrument:{get:function(){return this.getInst},set:function(e){this.setInst(e)}},beat:{get:function(){return this.getBeat},set:function(){this.toggleBeat()}},score:{get:function(){return this.getScore},set:function(e){this.setScore(e)}},beatButtonStyle:function(){return this.getBeat?{style:{transform:"translate(0, 0)"},text:"4/4"}:{style:{transform:"translate(100%, 0)"},text:"3/4"}},toggleMenuWrapStyle:function(){return this.getBeat?this.util.width>1342?{width:"var(--menu-container-wrap-desktop-long-width)"}:{}:this.util.width>1342?{width:"var(--menu-container-wrap-desktop-short-width)"}:{}}}),watch:{getInst:function(){this.changeInstrumentSrc(this.getInst)},getBeat:function(){this.togglePanelByBeat()},getScore:function(){this.setPanelByScore()}},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["toggleMainMenu","toggleSave","setInst","changeInstrumentSrc","toggleBeat","removePanel","addPanel","setScore","setBpm","changeStrength","changeColor","setStrength","setBeat","toggleSoundInterval","toggleDelete"])),{},{onWindowResize:function(){this.util.width=window.innerWidth,this.util.height=window.innerHeight},executeLogout:function(){var e=this;f.a.get("/api/drum/logout").then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},resultByThen:function(e){e.success&&this.$router.push({name:"account"})},createErrorByCatch:function(){},togglePanelByBeat:function(){this.getBeat&&16!=this.getElementInst[0].panel.length?this.addPanel(this.getInst):this.removePanel()},setPanelByScore:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.getSoundInterval){t.next=3;break}return t.next=3,e.toggleSoundInterval();case 3:if(n=e.getElementScore.find((function(t){return t.name===e.getScore})),void 0!==n){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.setBeat(n.beat);case 8:return t.next=10,e.setStrength(n.strength);case 10:e.changeColorSoundPanel(),e.setBpm(n.bpm),e.setInst(n.instrument),e.setScore("Select Score");case 14:case"end":return t.stop()}}),t)})))()},changeColorSoundPanel:function(){var e=this,t=this.sound.hslStep;this.getElementInst.forEach((function(n){var s=n.id;n.panel.forEach((function(n){var a=n.strength,r=n.key;e.changeColor({inst:s,panel:r,strength:a,hslStep:t})}))}))},hideMenu:function(){this.renderMainMenu&&this.toggleMainMenu()}})}),te=ee,ne=Object(i["a"])(te,Y,Z,!1,null,null,null),se=ne.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page-component save"},[n("div",{staticClass:"save-overlay",on:{click:e.toggleSave}}),n("div",{staticClass:"save-hide"}),n("div",{staticClass:"save-container"},[e._m(0),n("div",{staticClass:"save-text save-alert",style:e.style.alert},[n("span",[e._v(e._s(e.text.alert))])]),n("div",{staticClass:"save-input save-beat-name"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"model.name"}],attrs:{type:"text",placeholder:"Beat Name"},domProps:{value:e.model.name},on:{input:function(t){t.target.composing||e.$set(e.model,"name",t.target.value)}}})]),n("div",{staticClass:"save-input save-button"},[n("input",{attrs:{type:"button",value:e.text.ok,disabled:e.disabled.ok},on:{click:e.executeSavebeat}}),n("input",{attrs:{type:"button",value:"Cancel",disabled:e.disabled.cancel},on:{click:e.toggleSave}})])])])},re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"save-text save-title"},[n("span",[e._v("SAVE BEAT")])])}],ie={data:function(){return{model:{name:""},style:{alert:{height:"0rem"}},text:{alert:"",ok:"OK"},disabled:{ok:!0,cancel:!1}}},computed:Object(m["a"])(Object(m["a"])({},Object(p["c"])(["getElementInst","getBpm","getInst","getBeat"])),{},{watchBeat:function(){return this.model.name}}),watch:{watchBeat:function(){this.onBeatNameFilled()}},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["toggleSave","setElementScore"])),{},{onBeatNameFilled:function(){this.hideAlert(),""!==this.model.name?this.disabled.ok=!1:this.disabled.ok=!0},executeSavebeat:function(){var e=this,t=this.appendData(),n={url:"/api/drum/savebeat",method:"post",data:t};this.clearText(),this.loadButton(),f()(n).then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},appendData:function(){var e={name:this.model.name,strength:this.getInstrumentStrength(),instrument:this.getInst,beat:this.getBeat,bpm:this.getBpm};return e},resultByThen:function(e){e.success,this.showAlert(e.msg),this.setElementScore(e.data),console.log(e.data),this.resetButton()},createErrorByCatch:function(){this.showAlert("Error: Please try again later."),this.resetButton()},loadButton:function(){this.text.ok="Wait..."},resetButton:function(){this.text.ok="OK"},clearText:function(){this.model.name=""},showAlert:function(e){this.text.alert=e,this.style.alert.height="4rem"},hideAlert:function(){this.text.alert="",this.style.alert.height="0rem"},getInstrumentStrength:function(){var e=[];return this.getElementInst.forEach((function(t){var n=[];t.panel.forEach((function(e){n.push(e.strength)})),e.push(n)})),e}})},oe=ie,ce=Object(i["a"])(oe,ae,re,!1,null,null,null),le=ce.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page-component delete"},[n("div",{staticClass:"delete-overlay",on:{click:e.toggleDelete}}),n("div",{staticClass:"delete-container"},[n("div",{staticClass:"delete-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.search,expression:"model.search"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.model.search},on:{input:function(t){t.target.composing||e.$set(e.model,"search",t.target.value)}}}),n("input",{attrs:{type:"button",value:e.button.delete,disabled:e.disabled.delete},on:{click:e.executeDeleteScore}})]),n("div",{staticClass:"delete-selected-number",style:e.style.selected},[n("span",[e._v("Selected: "+e._s(e.model.selected.length))])]),n("div",{staticClass:"delete-alert",style:e.style.alert},[n("span",[e._v(e._s(e.text.alert))])]),n("div",{staticClass:"delete-score-list"},e._l(e.score,(function(t){return n("div",{key:t._id,staticClass:"scores",style:t.style},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.selected,expression:"model.selected"}],attrs:{type:"checkbox",id:"delete-checkbox-"+t._id},domProps:{value:t._id,checked:Array.isArray(e.model.selected)?e._i(e.model.selected,t._id)>-1:e.model.selected},on:{change:function(n){var s=e.model.selected,a=n.target,r=!!a.checked;if(Array.isArray(s)){var i=t._id,o=e._i(s,i);a.checked?o<0&&e.$set(e.model,"selected",s.concat([i])):o>-1&&e.$set(e.model,"selected",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.model,"selected",r)}}}),n("label",{attrs:{for:"delete-checkbox-"+t._id}},[n("p",[e._v("Title: "+e._s(t.name))]),n("p",[e._v("Instrument: "+e._s(t.instrument))]),n("p",[e._v("Beat: "+e._s(!0===t.beat?"4/4":"3/4"))]),n("p",[e._v("BPM: "+e._s(t.bpm))])])])})),0)])])},de=[],he=(n("ac1f"),n("841c"),{data:function(){return{style:{selected:{height:"0rem"},alert:{height:"0rem"}},text:{alert:""},model:{selected:[],search:""},button:{delete:"Delete"},disabled:{delete:!0}}},computed:Object(m["a"])(Object(m["a"])({},Object(p["c"])(["getElementScore","searchedScore"])),{},{selected:function(){return this.model.selected},search:function(){return this.model.search},score:function(){return this.searchedScore(this.search)}}),watch:{selected:function(){this.hideAlert(),this.toggleSelected()},search:function(){this.searchScore()}},created:function(){},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["toggleDelete","setElementScore","showElementScore","hideElementScore"])),{},{clearSelected:function(){this.model.selected=[]},toggleSelected:function(){0!==this.selected.length?(this.style.selected.height="2.4rem",this.disableDeleteButton(!1)):(this.style.selected.height="0rem",this.disableDeleteButton(!0))},executeDeleteScore:function(){var e=this,t=this.appendData(),n={url:"/api/drum/deleteScore",method:"post",headers:{"content-type":"multipart/form-data"},data:t};this.changeDeleteText("Deleting..."),f()(n).then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},appendData:function(){var e=new FormData;return this.model.selected.forEach((function(t){e.append("score[]",t)})),e},resultByThen:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.success){n.next=8;break}return n.next=3,t.clearSelected();case 3:t.showAlert(e.msg),t.setElementScore(e.data),t.changeDeleteText("Delete"),n.next=9;break;case 8:t.showAlert("Error: Please try again later.");case 9:case"end":return n.stop()}}),n)})))()},createErrorByCatch:function(){this.showAlert("Error: Please try again later.")},changeDeleteText:function(e){this.button.delete=e},disableDeleteButton:function(e){this.disabled.delete=e},searchScore:function(){},showAlert:function(e){this.text.alert=e,this.style.alert.height="2.4rem"},hideAlert:function(){this.text.alert="",this.style.alert.height="0rem"},test:function(){""===this.text.alert?this.showAlert("Error: Please try again later."):this.hideAlert()}})}),me=he,pe=Object(i["a"])(me,ue,de,!1,null,null,null),ge=pe.exports,fe={components:{instrument:X,mainMenu:se,mainSave:le,mainDelete:ge},data:function(){return{util:{width:window.innerWidth,height:window.innerHeight}}},computed:Object(m["a"])(Object(m["a"])({},Object(p["c"])(["renderMainMenu","renderSave","getBeat","renderDelete"])),{},{boxWrapStyle:function(){return this.getBeat?this.util.width>1342?{width:"var(--box-desktop-long-width)"}:{}:this.util.width>1342?{width:"var(--box-desktop-short-width)"}:{}}}),watch:{},created:function(){this.redirectBySession(),window.addEventListener("resize",this.onWindowResize,!1)},methods:Object(m["a"])(Object(m["a"])({},Object(p["b"])(["setElementScore"])),{},{onWindowResize:function(){this.util.width=window.innerWidth,this.util.height=window.innerHeight},redirectBySession:function(){var e=this;f.a.get("/api/drum/main").then((function(t){e.resultByThen(t.data)})).catch((function(t){e.createErrorByCatch()}))},resultByThen:function(e){e.success?this.setElementScore(e.data):this.$router.push({name:"account"}).catch((function(){}))},createErrorByCatch:function(){}})},ve=fe,be=(n("5580"),Object(i["a"])(ve,N,R,!1,null,null,null)),ye=be.exports;s["a"].use(u["a"]);var we=[{path:"/",name:"account",component:z},{path:"/main",name:"main",component:ye}],Se=new u["a"]({mode:"history",base:"/",routes:we}),xe=Se;n("4de4"),n("fb6a");s["a"].use(p["a"]);var Be=new p["a"].Store({state:{render:{account:!0,main:{menu:!1,save:!1,delete:!1}},sound:{interval:!1,instrument:"jazz",beat:!0,bpm:100,score:"Select Score"},element:{inst:[],score:[]}},getters:{renderAccountPage:function(e){return e.render.account},getSoundInterval:function(e){return e.sound.interval},getElementInst:function(e){return e.element.inst},getStrength:function(e){return function(t){var n=t.inst,s=t.panel;return e.element.inst[n].panel[s].strength}},getBpm:function(e){return e.sound.bpm},getInst:function(e){return e.sound.instrument},getBeat:function(e){return e.sound.beat},getElementScore:function(e){return e.element.score},getScore:function(e){return e.sound.score},renderMainMenu:function(e){return e.render.main.menu},renderSave:function(e){return e.render.main.save},renderDelete:function(e){return e.render.main.delete},searchedScore:function(e){return function(t){return""!==t?e.element.score.filter((function(e){return-1!==e.name.search(t)||-1!==e.instrument.search(t)})):e.element.score}}},mutations:{changeToSignup:function(e){e.render.account=!1},changeToSignin:function(e){e.render.account=!0},toggleSoundInterval:function(e){e.sound.interval=!e.sound.interval},initElementInst:function(e){e.element.inst=q.createInstrument(K.instrument)},changeStrength:function(e,t){var n=t.inst,s=t.panel;e.element.inst[n].panel[s].strength=(e.element.inst[n].panel[s].strength+1)%4},randStrength:function(e,t){var n=t.chance,s=t.hslStep;e.element.inst.forEach((function(e){e.panel.forEach((function(e){Math.random()>n&&(e.strength=Math.floor(3*Math.random()+1),e.style.panel={background:"hsl(".concat(40+(e.strength-1)*s,", 100%, 60%)")})}))}))},setStrength:function(e,t){e.element.inst.forEach((function(e,n){e.panel.forEach((function(e,s){e.strength=t[n][s]}))}))},resetPanelStyle:function(e,t){var n=t.inst,s=t.panel;e.element.inst[n].panel[s].style.panel={}},setPanelStyle:function(e,t){var n=t.inst,s=t.panel,a=t.strength,r=t.hslStep;e.element.inst[n].panel[s].style.panel={background:"hsl(".concat(40+(a-1)*r,", 100%, 60%)")}},resetPanelParam:function(e){e.element.inst.forEach((function(e){e.panel.forEach((function(e){e.strength=0,e.style.panel={}}))}))},changeProgress:function(e,t){var n=t.progress;e.element.inst.forEach((function(e){e.panel[n].style.progress={background:"rgba(0, 155, 254, 0.8)"}}))},resetProgress:function(e,t){var n=t.all,s=t.progress;!1===n?0!==s?e.element.inst.forEach((function(e){e.panel[s-1].style.progress={}})):e.element.inst.forEach((function(e){e.panel[e.panel.length-1].style.progress={}})):e.element.inst.forEach((function(e){e.panel.forEach((function(e){e.style.progress={}}))}))},increaseBpm:function(e){e.sound.bpm+=1},decreaseBpm:function(e){e.sound.bpm-=1},setBpm:function(e,t){e.sound.bpm=t},setInst:function(e,t){e.sound.instrument=t},setElementScore:function(e,t){e.element.score=t},setScore:function(e,t){e.sound.score=t},changeInstrumentSrc:function(e,t){e.element.inst.forEach((function(e){e.panel.forEach((function(e){e.src=t}))}))},toggleBeat:function(e){e.sound.beat=!e.sound.beat},setBeat:function(e,t){e.sound.beat=t},removePanel:function(e){e.element.inst.forEach((function(e){e.panel=e.panel.slice(0,e.panel.length-4)}))},addPanel:function(e,t){e.element.inst.forEach((function(e,n){for(var s=0;s<4;s++)e.panel.push({key:e.panel.length,strength:0,param:{inst:n,panel:e.panel.length},src:t,style:{panel:{},progress:{}}})}))},toggleMainMenu:function(e){e.render.main.menu=!e.render.main.menu},toggleSave:function(e){e.render.main.save=!e.render.main.save},toggleDelete:function(e){e.render.main.delete=!e.render.main.delete},showElementScore:function(e,t){e.element.score[t].style.display="block"},hideElementScore:function(e,t){e.element.score[t].style.display="none"}},actions:{changeToSignup:function(e){var t=e.commit;t("changeToSignup")},changeToSignin:function(e){var t=e.commit;t("changeToSignin")},toggleSoundInterval:function(e){var t=e.commit;t("toggleSoundInterval")},initElementInst:function(e){var t=e.commit;t("initElementInst")},changeStrength:function(e,t){var n=e.commit,s=t.inst,a=t.panel;n("changeStrength",{inst:s,panel:a})},randStrength:function(e,t){var n=e.commit,s=t.chance,a=t.hslStep;n("randStrength",{chance:s,hslStep:a})},setStrength:function(e,t){var n=e.commit;n("setStrength",t)},changeColor:function(e,t){var n=e.commit,s=t.inst,a=t.panel,r=t.strength,i=t.hslStep;0===r?n("resetPanelStyle",{inst:s,panel:a}):n("setPanelStyle",{inst:s,panel:a,strength:r,hslStep:i})},resetPanelParam:function(e){var t=e.commit;t("resetPanelParam")},changeProgress:function(e,t){var n=e.commit,s=t.progress;n("changeProgress",{progress:s})},resetProgress:function(e,t){var n=e.commit,s=t.all,a=t.progress;n("resetProgress",{all:s,progress:a})},increaseBpm:function(e){var t=e.commit;t("increaseBpm")},decreaseBpm:function(e){var t=e.commit;t("decreaseBpm")},setBpm:function(e,t){var n=e.commit;n("setBpm",t)},setInst:function(e,t){var n=e.commit;n("setInst",t)},setElementScore:function(e,t){var n=e.commit;n("setElementScore",t)},setScore:function(e,t){var n=e.commit;n("setScore",t)},changeInstrumentSrc:function(e,t){var n=e.commit;n("changeInstrumentSrc",t)},toggleBeat:function(e){var t=e.commit;t("toggleBeat")},setBeat:function(e,t){var n=e.commit;n("setBeat",t)},removePanel:function(e){var t=e.commit;t("removePanel")},addPanel:function(e,t){var n=e.commit;n("addPanel",t)},toggleMainMenu:function(e){var t=e.commit;t("toggleMainMenu")},toggleSave:function(e){var t=e.commit;t("toggleSave")},toggleDelete:function(e){var t=e.commit;t("toggleDelete")},showElementScore:function(e,t){var n=e.commit;n("showElementScore",t)},hideElementScore:function(e,t){var n=e.commit;n("hideElementScore",t)}},modules:{}});s["a"].config.productionTip=!1,new s["a"]({router:xe,store:Be,render:function(e){return e(l)}}).$mount("#app")},"88b4":function(e,t,n){"use strict";var s=n("d305"),a=n.n(s);a.a},a5b4:function(e,t,n){},d305:function(e,t,n){},d76a:function(e,t,n){},e00d:function(e,t,n){"use strict";var s=n("a5b4"),a=n.n(s);a.a}});
//# sourceMappingURL=app.0b5ef85b.js.map